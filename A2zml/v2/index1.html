<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>魔法禁书 - とある魔術の禁書目録（インデックス）</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }

    .container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    h1 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    h2 {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .file-list {
      background-color: #fff;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .file-list-header {
      display: flex;
      background-color: #f1f3f5;
      padding: 0.5rem 1rem;
      font-weight: bold;
      color: #495057;
    }

    .column-name {
      flex: 1;
    }

    .column-size,
    .column-modified {
      flex: 0 0 25%;
    }

    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    li {
      display: flex;
      align-items: center;
      padding: 0.75rem 1rem;
      background-color: #fff;
      border-bottom: 1px solid #e9ecef;
    }

    li:last-child {
      border-bottom: none;
    }

    li:hover {
      background-color: #f8f9fa;
    }

    .file-icon {
      width: 25px;
    height: 25px;
      margin-right: 0.5rem;
    }

    .file-name {
      flex: 1;
      color: #228be6;
    }

    .file-size,
    .file-modified {
      flex: 0 0 25%;
      color: #868e96;
    }

    .file-name:hover {
      text-decoration: underline;
      cursor: pointer;
    }

    .box {
      margin-top: 1rem;
      padding: 0.75rem 1rem;
      background-color: #fff;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      border-bottom: 1px solid #e9ecef;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ディレクトリ ネットワーク ディスク</h1>
    <div class="file-list">
      <div class="file-list-header">
        <div class="column-name">名前</div>
        <div class="column-size">大きさ</div>
        <div class="column-modified">変更時刻</div>
      </div>
      <ul id="fileList"></ul>
    </div>
    <div class="box">
      <h2>订阅地址</h2>
      <p><a href="Node/Shadowrocket">Shadowrocket</a></p>
      <p><a href="Node/Shadowrockets">Shadowrockets</a></p>
      <p><a href="Node/Shadowrocketss">Shadowrocketss</a></p>
    </div>
  </div>
<script>
(function(){
const gettype=(type)=>{return type==='1'?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Z"></path></svg>':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M280-200h400q-4-49-30-90t-68-65l38-68q2-4 1-9t-6-7q-4-2-8.5-1t-6.5 5l-39 70q-20-8-40-12.5t-41-4.5q-21 0-41 4.5T399-365l-39-70q-2-5-6.5-5t-9.5 2l-4 15 38 68q-42 24-68 65t-30 90Zm110-60q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6Zm180 0q-8 0-14-6t-6-14q0-8 6-14t14-6q8 0 14 6t6 14q0 8-6 14t-14 6ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>'};
const convertISOToDateComponents=isoString=>{const date=new Date(isoString);const year=date.getFullYear();const month=(date.getMonth()+1).toString().padStart(2,'0');const day=date.getDate().toString().padStart(2,'0');const hour=date.getHours().toString().padStart(2,'0');const minute=date.getMinutes().toString().padStart(2,'0');return`${year}-${month}-${day}${hour}:${minute}`};
const formatSize=(sizeInBytes)=>{const sizes=['Bytes','KB','MB','GB','TB'];if(sizeInBytes==0)return'0 Byte';let i=parseInt(Math.floor(Math.log(sizeInBytes)/Math.log(1024)));if(i==0)return`${sizeInBytes}${sizes[i]}`;return`${(sizeInBytes/Math.pow(1024,i)).toFixed(1)}${sizes[i]}`};
const fetchApi=async(url,options)=>{try{const response=await fetch(url,options);if(!response.ok){throw new Error(`HTTP error!status:${response.status}`)}return await response.json()}catch(error){console.error('请求失败:',error)}};
const getHeaders =()=>{const headers = new Headers();headers.append('Accept', 'application/json, text/plain, */*');headers.append('content-type', 'application/json;charset=UTF-8');return headers;};
const listFiles=async()=>{const headers=getHeaders();const data=JSON.stringify({"path":"/doc/魔法禁书","password":"","page":1,"per_page":20,"refresh":false});const options={method:'POST',headers:headers,body:data};const result=await fetchApi('https://c.jixiejidiguan.top/api/fs/list',options);console.log(result);const fileList=document.getElementById('fileList');fileList.innerHTML=result.data.content.map(result=>`<li><span class="file-icon">${gettype(result.type)}</span><a class="file-name"href="https://c.jixiejidiguan.top/doc/%E9%AD%94%E6%B3%95%E7%A6%81%E4%B9%A6/${result.name}">${result.name}</a><span class="file-size">${formatSize(result.size)}</span><span class="file-modified">${convertISOToDateComponents(result.modified)}</span></li>`).join('')};
document.addEventListener('DOMContentLoaded', listFiles);
})();

</script>
</body>

</html>