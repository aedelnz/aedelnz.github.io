<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale = 1.0">
<title>爱莫能助 - 二次元导航</title>  
<meta name="description" content="爱欲于人，犹如执炬，逆风而行，必有烧手之患。">  
<link rel="stylesheet" href="/folder/picnic.css">
<style>
.container{width:96%;max-width:1280px;margin-right:auto;margin-left:auto;padding-right:8px;padding-left:8px;box-sizing:border-box}
/* 容器列表 */
.row,[class*=row-]{margin-right:-8px;margin-left:-8px}
.row::after,[class*=row-]::after{display:table;clear:both;content:''}
.col{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:1px;padding-right:2px;padding-left:2px}
.row-xs-2 .col{float:left;width:50%}
@media (min-width:600px){.row-sm-3 .col{float:left;width:33.333333%}}
@media (min-width:1024px){.row-md-4 .col{float:left;width:25%}}
@media (min-width:1440px){.row-lg-5 .col{float:left;width:20%}}
/* 卡片 */
.cards{position:relative;padding:6px;box-sizing:border-box;overflow:hidden;color:#000;border-radius:5px;background:rgba(255,255,255,.3);box-shadow:0 4px 6px rgba(0,0,0,.1);backdrop-filter:blur(10px);margin-top:4px;margin-bottom:4px}
.cards div{font-weight:700;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis}
.cards p{font-weight:100;font-size:12px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis}
/* 加载动画 */
.loading{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;position:fixed;top:0;left:0;width:100%;background-color:#ffe6f2;z-index:9999}
.loading_loader{width:100px;height:100px;border:10px solid transparent;border-top-color:#ff66b2;border-bottom-color:#ff66b2;border-radius:50%;animation:spin 1s linear infinite}
.loading_text{position:absolute;color:#ff66b2;font-size:24px;font-weight:700}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}

/* 导航列表样式 */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background-color: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
}

.header-title {
  font-size: 24px;
  font-weight: bold;
}

.nav-list {
  list-style: none;
  display: flex;
  gap: 15px;
  margin: 0;
  padding: 0;
}

.nav-list li {
  display: inline;
}

.nav-list a {
  text-decoration: none;
  color: #007bff;
  font-size: 18px;
}

.nav-list a:hover {
  text-decoration: underline;
}
</style>

<script src="/folder/0o0oIlI.js"></script>
</head>
<body>
  <header>
    <div class="header-title">二次元导航</div>
    <ul class="nav-list">
      <li><a href="/folder/index.html">首页</a></li>
      <li><a href="/folder/a2zml/index.html">A2ZML</a></li>
      <li><a href="/folder/links/index.html">友链</a></li>
      <li><a href="/folder/about/index.html">关于</a></li>
    </ul>
  </header>

  <div class="container">
    <!-- 你的内容 -->
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/umbrella/3.0.1/umbrella.min.js"></script>
<script>
// 通用的HTTP请求函数
const http = (url, options = {}) => {
  return fetch(url, {
    method: "GET",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers
    }
  }).then(response => {
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.json();
  }).catch(error => {
    console.error("Fetch error:", error);
    throw error;
  });
};

// 加载数据并渲染到页面
const loadData=async(url,container)=>{try{u(container).html('<a>加载中...</a>');const data=await http(url);u(container).html('');data.forEach(item=>{u(container).append(u('<a>').addClass('pseudo button').text(item.title).attr('href','#'+item.key))})}catch(error){u(container).html('<a>加载失败，请稍后再试</a>')}};

const commitData = async (url, container, asides) => {
  try {
    u(container).html('<div class="loading"><div class="loading_loader"></div><div class="loading_text">加载中</div></div>'); // 显示加载状态
    const data = await http(url); // 假设 http 是一个异步函数，用于从 url 获取数据
    u(container).html(''); // 清空加载状态

    data.forEach(item => {
      u(asides).append(u('<div>').append(u('<a>').addClass('pseudo button').attr('href', '#' + item.title).html(item.title)));
      u(container).append(u('<h2>').text(item.title).attr('id', item.title));

      const rowDiv = u('<div>').addClass('row-xs-2 row-sm-3 row-md-4 row-lg-5');
      u(container).append(rowDiv);

      item.commit.forEach(index => {
        const colDiv = u('<div>').addClass('col');
        u(rowDiv).append(colDiv);

        const cardDiv = u('<div>').addClass('cards');
        u(colDiv).append(cardDiv);

        const cardTitle = u('<div>').text(index.title);
        u(cardDiv).append(cardTitle);

        u(cardDiv).append(u('<p>').text(index.explain || '-'));
      });
    });
  } catch (error) {
    u(container).html('<div class="loading"><div class="loading_loader"></div><div class="loading_text">加载中</div></div>'); // 显示错误信息
  }
};

// 初始化加载数据
u(document).on('DOMContentLoaded', () => {
  loadData('/folder/api/a2zml/zzoz.json', u('.menu'));
  commitData('/folder/api/a2zml/b.json', u('.container'), u('aside .links'));
});


// 修复ID包含中文字符的问
u('aside a').on('click', function(e){
  try {
    var to = u(e.currentTarget).attr('href');
    u(to).first().scrollIntoView({behavior: "smooth"});
    e.preventDefault();
    history.replaceState(null, '', to);
  } catch(err) {
    console.error(err);
  }
});

// 滚动事件
u([window]).on('scroll', function(){
  var top = this.scrollY || document.documentElement.scrollTop;
  u('.top').toggleClass('visible', top > 1000);
}).trigger('scroll');

</script>
</body>
</html>